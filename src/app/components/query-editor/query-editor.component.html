<div id="query-editor-modal" class="modal " tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg" style="max-width: 900px">
		<div *ngIf="displayPage === 1" class="modal-content">
				
				<div class="modal-header" style="display: block">
					<div class="d-flex justify-content-between">
						<h4 class="modal-title" id="modal-basic-title">{{ queryButtons.TITLE }}</h4>
						<div>
							<label class="mr-2 mb-0 align-middle">{{ selectedQuery.name }}</label>
							<button type="button" class="btn btn-primary mr-2" aria-label="Load" (click)="buttonLoadClick($event)"><i class="far fa-save"></i>&nbsp; Load &nbsp;<i class="far fa-chevron-down fa-sm"></i></button>
							<button type="button" class="btn btn-primary mr-2" aria-label="Save" (click)="buttonSaveClick($event)"><i class="far fa-save"></i>&nbsp; Save &nbsp;<i class="far fa-chevron-down fa-sm"></i></button>
							<button type="button" class="btn btn-danger mr-1" aria-label="Delete" (click)="buttonDeleteClick($event)"><i class="far fa-trash"></i>&nbsp; Delete</button>

							<!-- <button type="button mt-1" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button> -->
						</div>
					</div>
				</div>
				<div class="modal-body query-editor-body">
					<div *ngFor="let lineData of queryData.query; index as i">
						<app-query-editor-item [lineData]="lineData" [myIndex]="i" [tableDefinition]="tableDef" [relatedTableDefinition]="relatedTableDef" (deleteClicked)="lineDeleteClick($event)" (conjunctionChanged)="lineConjunctionChange($event)"></app-query-editor-item>
					</div>
				</div>
				<div class="modal-footer">
					<div class="w-100 d-flex justify-content-between">
						<div><button type="button" class="btn btn-danger" aria-label="Close" (click)="buttonCancelClick($event)">{{ queryButtons.CANCEL }}</button></div>
						<div><button type="button" class="btn btn-primary" aria-label="Reset" (click)="buttonResetClick($event)">{{ queryButtons.RESET }}</button></div>
						<div><button type="button" class="btn btn-success" aria-label="Ok" (click)="buttonOkClick($event)">{{ queryButtons.OK }}</button></div>
					</div>
				</div>
		</div>

		<div *ngIf="displayPage === 2" class="modal-content">
			<div class="modal-header" style="display: block">
				<div class="d-flex justify-content-between">
					<h4 class="modal-title" id="modal-basic-title">{{ queryButtons.TITLE }}</h4>
					<button type="button mt-1" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
			</div>
			<div class="modal-body query-editor-body">
				<div class="row">
					<div class="col-sm-2"></div>
					<div class="col-sm-10">
						<div class="form-group row">
							<label for="columnHeader" class="col-sm-2 col-form-label">{{ queryButtons.NAME }}:</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" id="columnHeader" [(ngModel)]="selectedQuery.name"/>
							</div>
						</div>
					</div>
					<div class="col-sm-2"></div>
				</div>
			</div>
			<div class="modal-footer">
				<div class="w-100 d-flex justify-content-between">
					<div><button type="button" class="btn btn-danger" aria-label="Close" (click)="buttonCancelSaveClick($event)">{{ queryButtons.CANCEL }}</button></div>
					<div><button type="button" class="btn btn-success" aria-label="Ok" (click)="buttonOkSaveClick($event)">{{ queryButtons.OK }}</button></div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- <jqxMenu #menuQuery (onItemclick)="menuQueryItemClick($event)" [source]="queryMenu" 
		[autoOpenPopup]="false" [mode]="'popup'" [width]="'150px'" [theme]="jqxTheme" [popupZIndex]="1070">
</jqxMenu>
<jqxMenu #menuSave (onItemclick)="menuSaveItemClick($event)" [source]="saveMenu" 
		[autoOpenPopup]="false" [mode]="'popup'" [width]="'150px'" [theme]="jqxTheme" [popupZIndex]="1070">
</jqxMenu> -->

<smart-menu #menuQuery
	(onItemclick)="menuQueryItemClick($event)"
	[dataSource]="queryMenu"
	[theme]="smartTheme"
	[mode]="'dropDown'">
</smart-menu>

<smart-menu #menuSave
	(onItemclick)="menuSaveItemClick($event)"
	[dataSource]="saveMenu"
	[theme]="smartTheme"
	[mode]="'dropDown'">
</smart-menu>
